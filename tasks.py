
<<<<<<< HEAD
* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)

* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
 chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)

* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183) chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)

* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
* chore(release): v2.9.1 [skip ci] ([`5ed7f07`](https://github.com/AI21Labs/ai21-python/commit/5ed7f07e677ce60eb960991f3c601869d4e2c68c))

* chore(deps-dev): bump zipp from 3.18.1 to 3.19.1 (#183)
>>>>>>> local
"""
=======
>>>>>>> 01495eab794c55e2304696451de3defa19524bcf

from invoke import task


@task
def formatter(tsk, fix=False):
    """
    python format
    """
    auto_fix = "" if fix else "--check --diff"
    cmd = " && ".join(
        [
            f"python -m black . {auto_fix}",
        ]
    )
    tsk.run(cmd, echo=True, pty=True)


@task
def lint(tsk, fix=False):
    """
    python lint
    """
    flags = "--fix" if fix else ""
    cmd = " && ".join(
        [
            f"ruff *.py {flags} ai21/ tests/",
        ]
    )
    tsk.run(cmd, echo=True, pty=True)


@task(optional=["coverage"], help={"coverage": "[true|false]"})
def test(tsk, coverage=False):
    """
    Run unit tests
    """
    cov = "--cov --cov-report=term-missing" if coverage else ""
    cmd = f"poetry run pytest {cov}"
    tsk.run(cmd, echo=True, pty=True)

@task
def audit(tsk):
    """
    Run audit check on the dependent packages
    """
    cmd = "safety check --full-report"
    tsk.run(cmd, echo=True, pty=True)


@task
def staticcheck(tsk):
    """
    Run static check on the projects files
    """
    cmd = "mypy ai21 tests"
    tsk.run(cmd, echo=True, pty=True)


@task
def isort(tsk):
    """
    Run static check on the projects files
    """
    cmd = "isort ai21 tests"
    tsk.run(cmd, echo=True, pty=True)


@task
def audit(tsk):
    """
    Run audit check on the dependent packages
    """
    cmd = "safety git check --full-report"
    tsk.run(cmd, echo=True, pty=True)


@task
def staticcheck(tsk):
    """
    Run static check on the projects files
    """
    cmd = "mypy ai21 tests"
    tsk.run(cmd, echo=True, pty=True)


@task
def isort(tsk):
    """
    Run static check on the projects files
    """
    cmd = "isort ai21 tests"
    tsk.run(cmd, echo=True, pty=True)


@task
def build(tsk):
    """
    generate a package for ai21
    """
    cmd = "poetry build"
    tsk.run(cmd, echo=True, pty=True)


@task
def update(tsk):
    """
    update outdated packages
    """
    cmd = "poetry update"
    tsk.run(cmd, echo=True, pty=True)


@task
def outdated(tsk):
    """
    update outdated packages
    """
    cmd = "poetry show --outdated --top-level"
    tsk.run(cmd, echo=True, pty=True)
